<!-- MAIN CONTENT -->
<div class="maf-column-contents">
  <h2 class="page-header">Documentation</h2>

<h3>Introduction</h3>
<p>Mozilla Archive Format, or MAF, is a Firefox extension that enables your
 browser to save, load and manage <i>web archives</i>.</p>
<p>Web archives are a convenient means to save and preserve web pages locally,
 since they allow you to store entire pages, including the images, in a single
 file. You can move around or rename a web archive without the risk of breaking
 the integrity of the saved pages it contains.</p>
<h4>Saving web archives</h4>
<p>As soon as MAF is installed, you get two new options for the file type in
 the "Save As" dialog box:</p>
<img src="images/saveAsDialog.png" alt="">
<dl>
  <dt>Web Archive, MAFF zipped</dt>
  <dd>
    <p>This option allows you to save one or more pages inside a single Mozilla
     Archive Format File, or MAFF archive. This type of archive is compressed
     using the universal, cross-platform <b>ZIP</b> specification.</p>
    <p>You can open MAFF archives again in the browser (and you get some
     commodities like the ability to view the original location the page was
     saved from), or you can inspect and extract the archive's contents,
     including all the embedded media files, without the browser using any
     ordinary ZIP utility.</p>
    <p>The Mozilla Archive Format extension generates MAFF archives using the
     fast, native ZIP implementation embedded in the Mozilla browser. The
     resulting files are usually smaller than the equivalent MHTML archives,
     and opening this kind of files is faster.</p>
  </dd>
  <dt>Web Archive, MHTML</dt>
  <dd>
    <p>This option allows you to save a single page inside a MIME HTML file, or
     MHTML archive. This format is also known as MHT, and is the web archive
     format used by Internet Explorer.</p>
    <p>MHTML files are encoded, not compressed. The encoding usually increases
     the size of the saved media files, compared to the original. At present,
     the contents of an MHTML archive can be decoded only by a limited
     number of web browsers, or using specific utilities. However, this archive
     format can be exchanged more easily with Internet Explorer.</p>
    <p>Because of the technique used by MAF to save the web pages locally, the
     generated MHTML files are not 100% compatible with Internet Explorer. If
     you have the need to create this kind of files, the UnMHT extension can
     be installed together with MAF. UnMHT can save MHT files, however at
     present it is not integrated with the "Save As" dialog box of Firefox. See
     the <a href="http://www.unmht.org/unmht/en_index.html">extension's home
     page</a> for more information.</p>
  </dd>
</dl>
<h4>Opening web archives</h4>
<p>By default, once MAF is installed, web archives can be opened using the
 ordinary <b>File &raquo; Open File</b> menu item of Firefox or using
 drag-and-drop, as you would open any other saved web page.</p>
<p>Under Windows, MAF can also create for you the
 <a href="#fileassociations">file associations</a> that allow opening the web
 archives by double-clicking them from Windows Explorer.</p>

<h3>Integration with other extensions</h3>
<p>One of the key features of Mozilla Archive Format is that it integrates not
 only with Firefox, but with other extensions as well, to provide a smooth user
 experience.</p>
<p>Some of these extensions, like UnMHT, must be installed separately; other
 extensions, like Save Complete, are embedded and updated together with MAF.</p>
<dl>
  <dt><a href="https://addons.mozilla.org/firefox/addon/4838">Multiple Tab
   Handler</a>, by Shimoda Hiroshi</dt>
  <dd>
    <p>This extension adds a multiple selection interface and a new context menu
     to the Firefox tab bar.</p>
    <p>MAF integrates with the tab selection context menu and adds an entry to
     save the selected tabs in an archive. For MHTML archives, MAF creates
     multiple files, while for MAFF archives all the tabs are saved in a
     single file.</p>
  </dd>
  <dt><a href="https://addons.mozilla.org/firefox/addon/4723">Save Complete</a>,
   by Stephen Augenstein</dt>
  <dd>
    <p><i>The Save Complete extension is integrated with MAF, but must be
     <a href="#savecomplete">enabled from the preferences</a>.</i></p>
    <p>This extension replaces the system used by the browser to save complete
     web pages. The new system correctly handles style sheets referencing image
     files, that otherwise would not be saved causing some pages to appear
     differently.</p>
  </dd>
  <dt><a href="https://addons.mozilla.org/firefox/addon/712">Title Save</a>, by
   <i>gm</i></dt>
  <dd>
    <p>This extension adds a new item in the <b>File</b> menu to use the title
     of the page instead of the file name in the <i>Save As</i> dialog box.</p>
    <p>You can use the new command to save MAFF and MHTML archives too.</p>
  </dd>
  <dt><a href="https://addons.mozilla.org/firefox/addon/8051">UnMHT</a>, by
   Arai</dt>
  <dd>
    <p>This extension adds new options in the <b>File</b> menu to save MHTML
     archives that are 100% compatible with Internet Explorer.</p>
    <p>If UnMHT is installed, you can continue to use MAF to create and open
     MAFF archives, while MHTML archives are opened with UnMHT.</p>
  </dd>
</dl>

<h3>MAF preferences</h3>
<p>The default settings in effect when you install MAF for the first time
 should be enough to allow correct loading and saving of MAFF and MHTML files.
 To customize advanced aspects of page loading and archiving, the extension's
 preferences dialog can be accessed from the <b>Tools &raquo; Mozilla Archive
 Format &raquo; Preferences</b> menu item.</p>

<img src="images/prefsDialog-paneMain.png" alt="">

<dl>
  <dt>When an archive is opened:</dt>
  <dd>
    <ol>
      <li><b>Open contents in new tabs</b> (default) - Opens all resources in
       new tabs. If your archive is big, this could cause opening the archive to
       take a long time.</li>
      <li><b>Show list of open archives, and ask for action</b> - Displays a
       dialog of all the open archives in a tree form, you select which files
       you would like displayed in tabs. You can also perform other actions from
       the same dialog, like opening MAFF archives using the <tt>jar:</tt>
       protocol.</li>
      <li><b>Only add to the list of open archives, showing nothing</b> - Allows
       you to open as many archives as you want and browse to display any of the
       saved resources after complete.</li>
    </ol>
  </dd>
  <dt><a name="savecomplete"></a>When saving complete web page contents:</dt>
  <dd>
    <p>This preference controls which method is used to find all the web
     resources (images, subpages, ...) that are included in the web page being
     saved. This step is preliminary to archiving all the resources in MAFF or
     MHTML format.</p>
    <p>You may change this preference if the saved pages seem to be really
     different from their original version, to achieve a better result.</p>
    <ol>
      <li><b>Use browser's standard save system</b> (default) - With this
       setting, the web pages are saved by the browser. How much of the web page
       is actually saved depends on the version of Firefox being used.</li>
      <li><b>Use the integrated "Save Complete" extension</b> - Allows more
       content to be saved, thanks to the integrated <b>Save Complete</b>
       extension written by Stephen Augenstein. Note that if you also have a
       standalone version of <b>Save Complete</b> installed, MAF will continue
       to use the integrated one. Improvements to <b>Save Complete</b> are
       periodically included in new versions of MAF.</li>
      <li><b>Use MAF internal save component (advanced)</b> - This component
       saves images linked in CSS pages but it currently does not work on pages
       with frames.</li>
    </ol>
    <p>Note that the selected component will be used not only when saving
     archives, but also when saving complete pages using the <b>Save Page
     As</b>, <b>Web Page, complete</b> command of Firefox.</p>
  </dd>
  <dt>Save extended metadata in MAFF archives</dt>
  <dd>
    <p>With this preference enabled, additional page information such as
     history, text zoom and scroll position is saved for each page. There is
     currently no preference to restore this saved information as yet.</p>
  </dd>
</dl>

<a name="fileassociations"></a><img src="images/prefsDialog-paneFileAssociations.png" alt="">

<dl>
  <dt>File associations</dt>
  <dd>
    <p>This preferences pane allows you to create or refresh file associations
     on Windows, for the MAFF and MHTML formats separately.</p>
    <p>File associations are not removed when uninstalling MAF of Firefox
     itself.</p>
  </dd>
</dl>

<img src="images/prefsDialog-paneAdvanced.png" alt="">

<dl>
  <dt>Temporary folder</dt>
  <dd>
    <p>This preference allows you to customize the location of the temporary
     files required to open and save the web archives.</p>
    <p>If unspecified, this location defaults to the <tt>maftemp</tt>
     subdirectory of the system temporary directory.</p>
    <p>If customized, the absolute path to the specified location is remembered.
     The contents of the selected folder will be lost if the <b>Clear temporary
     folder when browser exits</b> option is selected. There is usually no need
     to customize the temporary folder unless you use different Firefox profiles
     on the same computer at the same time.</p>
  </dd>
  <dt>Clear temporary folder when browser exits</dt>
  <dd>
    <p>This option is enabled by default. If disabled, the contents of the
     temporary directory are preserved after the browser exits, and must be
     cleaned up manually.</p>
  </dd>
  <dt>Rewrite absolute URLs in open archives</dt>
  <dd>
    <p>With this preference enabled, the archived web pages would be processed
     as they finish loading in tabs. The processing would replace absolute links
     to resources in the page with local resources in the archive (if possible).
     This would allow users to browse linked pages in an archive seamlessly.</p>
  </dd>
</dl>

<h3>Previous versions</h3>

<p>If you need help with MAF 0.6.3.1 for Firefox 2, or a previous version, you
 can consult <a
 href="http://web.archive.org/web/20070313001315/maf.mozdev.org/preferences.html">the
 old documentation still accessible at the Internet Archive</a>.</p>

</div>